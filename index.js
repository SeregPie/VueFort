!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue-demi")):"function"==typeof define&&define.amd?define(["exports","vue-demi"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VueFort={},e.VueDemi)}(this,(function(e,t){"use strict";const n=()=>{},f=Array.isArray,o=e=>"function"==typeof e,i=e=>"string"==typeof e,r=e=>null!==e&&"object"==typeof e;function l(e){let f,i;return o(e)?(f=e,i=n):({get:f,set:i}=e),t.customRef((()=>({get:f,set:i})))}function s(e){return!(!e||!0!==e.$isEffect)}let c,u=new WeakMap;function a(e){if(c){let{effects:t}=u.get(c);t.add(e)}}function d(e){return u.has(e)}function h(e){return!!(e&&e.$effectScope&&d(e.$effectScope))}function p(e){if(s(e)){let{stop:t}=e;return t()}if(d(e)){let{stop:t}=u.get(e);return t()}return function(e){return!!(e&&e.$effect&&s(e.$effect))}(e)?p(e.$effect):h(e)?p(e.$effectScope):void 0}function y(e){let n=[],f=e=>{n.push(e)},o={},i=new Set,r=e=>{if(e){let t=c;c=o;try{Object.assign(o,e(f))}finally{c=t}}return o};return u.set(o,{effects:i,extend:r,stop(){i.forEach((e=>{p(e)})),n.forEach((e=>{e()}))}}),a(o),t.getCurrentInstance()&&t.onUnmounted((()=>{p(o)})),r(e),o}function v(e,t){if(d(e)){let{extend:n}=u.get(e);return n(t)}if(h(e))return v(e.$effectScope,t)}function g(e){let f,i;o(e)?(f=e,i=n):({get:f,set:i}=e);let r,s={$isEffect:!0,stop:n};return a(s),l({get:()=>(r||(s.stop=t.watch(f,(e=>{r?((e,t)=>e!==t&&(e==e||t==t))(r.value,e)&&(r.value=e):r=t.shallowRef(e)}),{flush:"sync",immediate:!0})),r.value),set:i})}function R(e,t){return l({get:()=>e[t],set(n){e[t]=n}})}let b=new WeakMap;function j(e){let n={};if(r(e))if(t.isReactive(e)){let f=b.get(e);f||(f={},b.set(e,f));let o=t.toRaw(e);t.isReadonly(e)?Object.keys(e).forEach((i=>{let r=f[i];if(!r){if(t.isReactive(o))r=t.shallowReadonly(R(e,i));else{let n=o[i];r=t.isRef(n)?t.isReadonly(n)?n:t.shallowReadonly(n):t.shallowReadonly(R(e,i))}f[i]=r}n[i]=r})):Object.keys(e).forEach((i=>{let r=f[i];if(!r){if(t.isReactive(o))r=R(e,i);else{let n=o[i];r=t.isRef(n)?n:R(e,i)}f[i]=r}n[i]=r}))}else t.isReadonly(e)?(e=t.toRaw(e),Object.entries(e).forEach((([e,f])=>{n[e]=t.isRef(f)?t.isReadonly(f)?f:t.shallowReadonly(f):t.shallowReadonly(t.shallowRef(f))}))):Object.entries(e).forEach((([e,f])=>{n[e]=t.isRef(f)?f:t.shallowRef(f)}));return n}function w(e){return e.startsWith("_")}function O(e,t){return function(...n){let f;return v(e,(()=>{f=t.apply(e,n)})),f}}function E(e,n,l){if(f(l))l.forEach((t=>{E(e,n,t)}));else{let f,s;i(l)?f=e[l]:o(l)?f=O(e,l):r(l)&&(({handler:l,...s}=l),i(l)?f=e[l]:o(l)&&(f=O(e,l))),function(...e){let n=t.watch(...e);a({$isEffect:!0,stop:n})}(n,f,s)}}function $(e,f,{bind:o=!0}={}){let i={},r=j(f),l=Object.keys(r);f=t.shallowRef(t.reactive(r));let s=!1,c=function(e,t){if(!0===e)return y(t);let n;return v(e,(()=>{n=y(t)})),n}(o,(e=>{e((()=>{s=!0})),r={},l.forEach((e=>{r[e]=g({get:()=>f.value[e],set(t){f.value[e]=t}})}))}));return Object.defineProperties(i,{$model:{value:e},$effectScope:{value:c},$data:{get:()=>f.value,set(e){f.value=t.reactive(j(e))}},$update:{value(e){Object.assign(i,{$data:e})}},$destroy:{value(){p(c)}},$isDestroyed:{get:()=>s}}),v(c,(()=>{let t={},{options:{state:f=n,getters:o={},watch:l={},methods:s={}}={}}=e;Object.entries({...r,...j(f({...r}))}).forEach((([e,n])=>{t[e]={get:()=>n.value,set(e){n.value=e}}})),Object.entries(o).forEach((([e,n])=>{let f=g(O(i,n));t[e]={get:()=>f.value}})),Object.entries(s).forEach((([e,n])=>{t[e]={value:O(i,n)}})),Object.entries(t).forEach((([e,t])=>{Object.assign(t,{enumerable:!w(e)})})),Object.defineProperties(i,t),Object.entries(l).forEach((([e,t])=>{let n=function(e,t){let n=t.split(".");return 1===n.length?()=>e[t]:()=>function(e,t){return t.forEach((t=>{e=e[t]})),e}(e,n)}(i,e);E(i,n,t)}))})),i}e.c=function(...e){return $(...e)},e.defineModel=function(e){e=t.shallowRef(e);let n=function(...e){return $(n,...e)};return Object.defineProperties(n,{options:{get:()=>e.value,set(t){e.value=t}},update:{value(e){Object.assign(n,{options:e})}}}),n},e.toRefs=j,Object.defineProperty(e,"__esModule",{value:!0})}));
